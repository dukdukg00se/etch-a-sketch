// Create desired grid size in 500x500 container by inputting in number into function
const gridContainer = document.querySelector('#grid-container');
function createGrid(num) {
  for (let rows = 0; rows < num; rows++) {
    for (let columns = 0; columns < num; columns++) {
      const box = document.createElement('div');
      box.classList.add('box');
      gridContainer.append(box);

      box.style.width = `${500 / num}px`;
      box.style.height = `${500 / num}px`;
    }
  }
}
createGrid(20);

// Set default pen color effect to black
const box = document.querySelectorAll(".box");
box.forEach((boxSq) => {
  boxSq.addEventListener('mouseenter', function() {
    boxSq.style.backgroundColor = "#000000";
  });
});

// Let browser know that 'Pen Color' button clicked and set pen color to color input
const penColor = document.getElementById('pen-color-input');
penColor.addEventListener("input", updateColor, false);

// Sets pen color to selected color for pen effect
function updateColor(event) {
  const boxColor = document.querySelectorAll(".box");

  // 'this' refers to 'penColor' variable here 
  if (this) {
    boxColor.forEach((box) => {
      box.addEventListener('mouseenter', function() {
        box.style.backgroundColor = event.target.value;
      });
    });
  }
}


// Let browser know that 'Rainbow' button clicked and set pen color to random colors generated by setRainbow function
const penRainbow = document.getElementById('rainbow');
penRainbow.addEventListener('click', setRainbow, false);
function setRainbow() {
  const boxColor = document.querySelectorAll(".box");

  // 'this' refers to 'penRainbow' variable here 
  if (this) {
    boxColor.forEach((box) => {
      box.addEventListener('mouseenter', function() {
        box.style.backgroundColor = getRandomColor();
        //getRandomColor;
        //console.log(box.style.backgroundColor);
      });
    });
  }
}

// Random color generator
function getRandomColor() {
  // Another option is "#" + Math.floor(Math.random()*16777215).toString(16) 
  // Or `rgb(${Math.floor(Math.random() * 256), ${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256))`
  // Below returns fewer, but more colorful, colors
  return `hsl(${Math.random() * 360}, 100%, 50%)`;
}





/* This returns event.target.value, originally used to try to get the value of color input by adding the function into the penColor event listener and setting backgroundColor to the value but this didn't work

function getValue(event) {
  console.log(event.target.value);
  return event.target.value;
}
*/